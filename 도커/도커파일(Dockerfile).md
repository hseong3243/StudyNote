Dockerfile은 애플리케이션을 패키징하기 위한 스크립트이다. 일련의 인스트럭션으로 구성되어 있으며 이를 실행하여 도커 이미지가 만들어진다.

#### FROM
모든 이미지의 출발점이 되는 이미지이다.

#### ENV
환경 변수 값을 지정하기 위한 인스트럭션이다. `key="value"` 형식을 따른다.

#### WORKDIR
컨테이너 이미지 파일 시스템에 디렉토리를 만들고 이를 작업 디렉토리로 지정하는 인스트럭션이다.

#### COPY
로컬 파일 시스템의 파일 혹은 디렉토리를 컨테이너 이미지로 복사하는 인스트럭션이다. `원본경로 복사경로` 형식을 따른다.

#### CMD
이미지로부터 컨테이너를 실행했을 때 실행할 명령을 지정하는 인스트럭션이다.

#### ENTRYPOINT
`CMD` 인스트럭션과 같은 기능을 한다.

## 이미지 빌드
---
이미지 빌드를 위해서는 이미지 이름, 패키징에 필요한 파일 경로를 지정해주어야 한다.
```bash
docker image build --tag test .
```

`--tag 이미지이름`을 통해 이미지의 이름을 지정하고 `Dockerfile` 및 이미지에 포함시킬 파일이 위치한 경로를 지정한다.


## 도커 이미지
---
도커 이미지는 이미지 레이어가 모인 논리적 대상이다. 레이어는 도커 엔진의 캐시에 물리적으로 저장된 파일이다. 이러한 이미지 레이어는 여러 이미지와 컨테이너에서 공유된다. 또한 읽기 전용으로 사용되어 공유로 인해 발생하는 문제를 방지한다.

도커는 캐시에 일치하는 레이어가 있는지 확인하기 위해 해시값을 이용한다. 때문에 캐시에 저장된 이미지 레이어를 활용할 수 있도록 `Dockerfile`을 작성하는 경우 수정 빈도가 낮은 인스트럭션을 앞에 배치하고 자주 수정되는 인스트럭션을 뒤에 배치해야 한다.